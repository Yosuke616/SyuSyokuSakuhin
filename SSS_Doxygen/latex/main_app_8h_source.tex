\hypertarget{main_app_8h_source}{}\doxysection{main\+App.\+h}
\label{main_app_8h_source}\index{C:/Users/ys200/Desktop/SSS/2DHCopy/DX11Game/mainApp.h@{C:/Users/ys200/Desktop/SSS/2DHCopy/DX11Game/mainApp.h}}
\mbox{\hyperlink{main_app_8h}{\mbox{[}詳解\mbox{]}}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//=============================================================================}}
\DoxyCodeLine{2 \textcolor{comment}{//}}
\DoxyCodeLine{3 \textcolor{comment}{// メイン処理 [main.h]}}
\DoxyCodeLine{4 \textcolor{comment}{// Author : SHIMIZU YOUSUKE}}
\DoxyCodeLine{5 \textcolor{comment}{//}}
\DoxyCodeLine{6 \textcolor{comment}{//=============================================================================}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{10 \textcolor{comment}{// インクルードファイル}}
\DoxyCodeLine{11 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define NOMINMAX}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <windows.h>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <tchar.h>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <mmsystem.h>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <d3d11.h>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <DirectXMath.h>}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{resource_8h}{resource.h}}"{}}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <math.h>}}
\DoxyCodeLine{22 \textcolor{comment}{// 本来はヘッダに書かない方が良い}}
\DoxyCodeLine{23 \textcolor{keyword}{using namespace }DirectX;}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{26 \textcolor{comment}{// マクロ定義}}
\DoxyCodeLine{27 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#ifndef SAFE\_RELEASE}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#define SAFE\_RELEASE(x) \{if(x)\{(x)-\/>Release();x=nullptr;\}\}}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#ifndef SAFE\_DELETE}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#define SAFE\_DELETE(x) \{if(x)\{delete(x);x=nullptr;\}\}}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#ifndef SAFE\_DELETE\_ARRAY}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#define SAFE\_DELETE\_ARRAY(x) \{if(x)\{delete[](x);x=nullptr;\}\}}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38 \textcolor{preprocessor}{\#define SCREEN\_WIDTH    (1280)              }\textcolor{comment}{// ウインドウの幅}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#define SCREEN\_HEIGHT   (720)               }\textcolor{comment}{// ウインドウの高さ}}
\DoxyCodeLine{40 \textcolor{preprocessor}{\#define SCREEN\_CENTER\_X (SCREEN\_WIDTH/2)    }\textcolor{comment}{// ウインドウの中心Ｘ座標}}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#define SCREEN\_CENTER\_Y (SCREEN\_HEIGHT/2)   }\textcolor{comment}{// ウインドウの中心Ｙ座標}}
\DoxyCodeLine{42 }
\DoxyCodeLine{43 \textcolor{preprocessor}{\#define NUM\_VERTEX      (4)                 }\textcolor{comment}{// 頂点数}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#define NUM\_POLYGON     (2)                 }\textcolor{comment}{// ポリゴン数}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \textcolor{preprocessor}{\#define SinDeg(degree)  sinf(XMConvertToRadians(degree))    }\textcolor{comment}{//  Sinの値  引数は角度}}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#define CosDeg(degree)  cosf(XMConvertToRadians(degree))    }\textcolor{comment}{//  Cosの値   引数は角度}}
\DoxyCodeLine{48 }
\DoxyCodeLine{49 \textcolor{comment}{// 2022/01/21 方向}}
\DoxyCodeLine{50 \textcolor{keyword}{enum} \mbox{\hyperlink{main_app_8h_a4853d3aea066eba9ef3740585c107a6b}{Direct}}}
\DoxyCodeLine{51 \{}
\DoxyCodeLine{52     \mbox{\hyperlink{main_app_8h_a4853d3aea066eba9ef3740585c107a6ba2e15270378edc4b0861165674c651970}{DIR\_NONE}} = 0,}
\DoxyCodeLine{53     \mbox{\hyperlink{main_app_8h_a4853d3aea066eba9ef3740585c107a6ba5dd21ef3d450f62c44082756cab8f6f8}{DIR\_RIGHT}},}
\DoxyCodeLine{54     \mbox{\hyperlink{main_app_8h_a4853d3aea066eba9ef3740585c107a6ba1307dc42d06472935155dcbe283bc660}{DIR\_LEFT}},}
\DoxyCodeLine{55     \mbox{\hyperlink{main_app_8h_a4853d3aea066eba9ef3740585c107a6ba0b76fb863426c07c6c997a8d9523257b}{DIR\_UP}},}
\DoxyCodeLine{56     \mbox{\hyperlink{main_app_8h_a4853d3aea066eba9ef3740585c107a6bab1bf68da897d09488069dd40e54f442d}{DIR\_DOWN}},}
\DoxyCodeLine{57 \};}
\DoxyCodeLine{58 }
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{keyword}{enum} \mbox{\hyperlink{main_app_8h_a3e447a94ef1b4376d3cbf363802bb5f2}{EBlendState}} \{}
\DoxyCodeLine{61     \mbox{\hyperlink{main_app_8h_a3e447a94ef1b4376d3cbf363802bb5f2a2d12b87b8f786ee643522fd75a569ee9}{BS\_NONE}} = 0,                         \textcolor{comment}{// 半透明合成無し}}
\DoxyCodeLine{62     \mbox{\hyperlink{main_app_8h_a3e447a94ef1b4376d3cbf363802bb5f2a4652560626321baf86b007ea6cf19d1b}{BS\_ALPHABLEND}},                         \textcolor{comment}{// 半透明合成}}
\DoxyCodeLine{63     \mbox{\hyperlink{main_app_8h_a3e447a94ef1b4376d3cbf363802bb5f2a4b3aed63826d12e954d4f8916d7d7ee3}{BS\_ADDITIVE}},                         \textcolor{comment}{// 加算合成}}
\DoxyCodeLine{64     \mbox{\hyperlink{main_app_8h_a3e447a94ef1b4376d3cbf363802bb5f2a696619a00213b38ff53c718615609ac9}{BS\_SUBTRACTION}},                           \textcolor{comment}{// 減算合成}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     \mbox{\hyperlink{main_app_8h_a3e447a94ef1b4376d3cbf363802bb5f2a2dd3f4c2cf1b7fa074bc5126ce663ba4}{MAX\_BLENDSTATE}}}
\DoxyCodeLine{67 \};}
\DoxyCodeLine{68 }
\DoxyCodeLine{69 \textcolor{keyword}{enum} \mbox{\hyperlink{main_app_8h_acb1e92521e1d5e281d7d65e74fee4fca}{ECullMode}} \{}
\DoxyCodeLine{70     \mbox{\hyperlink{main_app_8h_acb1e92521e1d5e281d7d65e74fee4fcaa2de164d15a5a308a3e7f852ef6e7948e}{CULLMODE\_NONE}} = 0,                     \textcolor{comment}{// カリングしない}}
\DoxyCodeLine{71     \mbox{\hyperlink{main_app_8h_acb1e92521e1d5e281d7d65e74fee4fcaaa72c8619e0be2fe67ef171b2f2ee7bc6}{CULLMODE\_CW}},                         \textcolor{comment}{// 前面カリング}}
\DoxyCodeLine{72     \mbox{\hyperlink{main_app_8h_acb1e92521e1d5e281d7d65e74fee4fcaaf3a645ebbdf5dde3b88e2197e6c05c4e}{CULLMODE\_CCW}},                           \textcolor{comment}{// 背面カリング}}
\DoxyCodeLine{73 }
\DoxyCodeLine{74     \mbox{\hyperlink{main_app_8h_acb1e92521e1d5e281d7d65e74fee4fcaac9e43ef91a95b9f6a68480609e3cb2c1}{MAX\_CULLMODE}}}
\DoxyCodeLine{75 \};}
\DoxyCodeLine{76 }
\DoxyCodeLine{77 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{78 \textcolor{comment}{// 構造体定義}}
\DoxyCodeLine{79 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{80 \textcolor{comment}{// 頂点フォーマット( 頂点座標[2D] / 反射光 / テクスチャ座標 )}}
\DoxyCodeLine{81 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{82     XMFLOAT3 \mbox{\hyperlink{struct_v_e_r_t_e_x__2_d_a0732120d0ffc2648438306f04ff52d2f}{vtx}};        \textcolor{comment}{// 頂点座標}}
\DoxyCodeLine{83     XMFLOAT4 \mbox{\hyperlink{struct_v_e_r_t_e_x__2_d_a6227dce918f9ae0e90ad7ce98974510d}{diffuse}};    \textcolor{comment}{// 拡散反射光}}
\DoxyCodeLine{84     XMFLOAT2 \mbox{\hyperlink{struct_v_e_r_t_e_x__2_d_ac6db08953bb6b76fac17f8ea73cbcb69}{tex}};        \textcolor{comment}{// テクスチャ座標}}
\DoxyCodeLine{85 \} \mbox{\hyperlink{struct_v_e_r_t_e_x__2_d}{VERTEX\_2D}};}
\DoxyCodeLine{86 }
\DoxyCodeLine{87 \textcolor{comment}{// 頂点フォーマット( 頂点座標[3D] / 法線ベクトル / 反射光 / テクスチャ座標 )}}
\DoxyCodeLine{88 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{89     XMFLOAT3 \mbox{\hyperlink{struct_v_e_r_t_e_x__3_d_a63f5c21e4110738cbb9801a885537a5e}{vtx}};        \textcolor{comment}{// 頂点座標}}
\DoxyCodeLine{90     XMFLOAT3 \mbox{\hyperlink{struct_v_e_r_t_e_x__3_d_aa275a4f60227dc096a3ec715859b4087}{nor}};        \textcolor{comment}{// 法線ベクトル}}
\DoxyCodeLine{91     XMFLOAT4 \mbox{\hyperlink{struct_v_e_r_t_e_x__3_d_a3570266c04bfab162e6af89968187438}{diffuse}};    \textcolor{comment}{// 拡散反射光}}
\DoxyCodeLine{92     XMFLOAT2 \mbox{\hyperlink{struct_v_e_r_t_e_x__3_d_ad82d470cdae573bc060d6e7c4aa81c75}{tex}};        \textcolor{comment}{// テクスチャ座標}}
\DoxyCodeLine{93 \} \mbox{\hyperlink{struct_v_e_r_t_e_x__3_d}{VERTEX\_3D}};}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{96 \textcolor{comment}{// プロトタイプ宣言}}
\DoxyCodeLine{97 \textcolor{comment}{//*****************************************************************************}}
\DoxyCodeLine{98 HWND \mbox{\hyperlink{main_app_8h_a92550af168fdc15968f87992fd9d07c5}{GetMainWnd}}();                            \textcolor{comment}{//  メイン ウィンドウ ハンドル取得}}
\DoxyCodeLine{99 HINSTANCE \mbox{\hyperlink{main_app_8h_aa9d863781ee8f3f820ea4ad9e52f78d9}{GetInstance}}();                 \textcolor{comment}{//  インスタンス ハンドル取得}}
\DoxyCodeLine{100 ID3D11Device* \mbox{\hyperlink{main_app_8h_a965053cc7c41d010d359091035281310}{GetDevice}}();                 \textcolor{comment}{//  デバイス取得}}
\DoxyCodeLine{101 ID3D11DeviceContext* \mbox{\hyperlink{main_app_8h_a76385629cd459c9e0fcda690542edb07}{GetDeviceContext}}();    \textcolor{comment}{//  デバイス コンテキスト取得}}
\DoxyCodeLine{102 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_app_8h_a15367d15c1324ebba192218982bffe3e}{SetBlendState}}(\textcolor{keywordtype}{int} nBlendState);       \textcolor{comment}{//  ブレンドステートの設定}}
\DoxyCodeLine{103 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_app_8h_a55437f177885a57508f99619a3a7a19f}{SetCullMode}}(\textcolor{keywordtype}{int} nCullMode);         \textcolor{comment}{//  カリングモードの設定}}
\DoxyCodeLine{104 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_app_8h_a9b19b33f1a7f58f261e0025ec2fc66c3}{SetZBuffer}}(\textcolor{keywordtype}{bool} bEnable);                \textcolor{comment}{//  深度バッファ有効無効制御}}
\DoxyCodeLine{105 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_app_8h_a6376c6224e7273eb750a7fde2aea342d}{SetZWrite}}(\textcolor{keywordtype}{bool} bEnable);              \textcolor{comment}{//  深度バッファ更新有効無効制御}}
\DoxyCodeLine{106 }
\DoxyCodeLine{107 }
\DoxyCodeLine{108 \textcolor{comment}{//\#define 成田}}
\DoxyCodeLine{109 }
\DoxyCodeLine{110 \textcolor{comment}{// スクリーン座標をワールド座標に変換}}
\DoxyCodeLine{111 XMVECTOR* \mbox{\hyperlink{main_app_8h_a45b6acf4c6f99b1092ca0ab4bba46b07}{CalcScreenToWorld}}(}
\DoxyCodeLine{112     XMVECTOR* pout,     \textcolor{comment}{//  格納先}}
\DoxyCodeLine{113     \textcolor{keywordtype}{float} Sx,           \textcolor{comment}{//  スクリーンX座標}}
\DoxyCodeLine{114     \textcolor{keywordtype}{float} Sy,           \textcolor{comment}{//  スクリーンY座標}}
\DoxyCodeLine{115     \textcolor{keywordtype}{float} fZ,           \textcolor{comment}{//  射影空間でのZ値（0〜1）}}
\DoxyCodeLine{116     \textcolor{keywordtype}{int} Screen\_w,       \textcolor{comment}{//  スクリーンの幅}}
\DoxyCodeLine{117     \textcolor{keywordtype}{int} Screen\_h,       \textcolor{comment}{//  スクリーンの高さ}}
\DoxyCodeLine{118     XMMATRIX View,      \textcolor{comment}{//  ビューマトリックス}}
\DoxyCodeLine{119     XMMATRIX Prj        \textcolor{comment}{//  射影行列}}
\DoxyCodeLine{120 );}
\DoxyCodeLine{121 \textcolor{comment}{// XY平面とスクリーン座標の交点算出関数}}
\DoxyCodeLine{122 XMVECTOR* \mbox{\hyperlink{main_app_8h_a33762d19fee3469aebc3f8a7a724bcf9}{CalcScreenToXY}}(}
\DoxyCodeLine{123     XMFLOAT3* pout,     \textcolor{comment}{//  格納先}}
\DoxyCodeLine{124     \textcolor{keywordtype}{float} Sx,           \textcolor{comment}{//  スクリーンX座標}}
\DoxyCodeLine{125     \textcolor{keywordtype}{float} Sy,           \textcolor{comment}{//  スクリーンY座標}}
\DoxyCodeLine{126     \textcolor{keywordtype}{int} Screen\_w,       \textcolor{comment}{//  スクリーンの幅}}
\DoxyCodeLine{127     \textcolor{keywordtype}{int} Screen\_h,       \textcolor{comment}{//  スクリーンの高さ}}
\DoxyCodeLine{128     XMMATRIX View,      \textcolor{comment}{//  ビューマトリックス}}
\DoxyCodeLine{129     XMMATRIX Prj        \textcolor{comment}{//  射影行列}}
\DoxyCodeLine{130 );}
\DoxyCodeLine{131 }
\DoxyCodeLine{132 }
\DoxyCodeLine{133 XMFLOAT2 \mbox{\hyperlink{main_app_8h_ab2bc1dccc769090b3dbd2b251a643039}{CalcWorldSize}}();}
\DoxyCodeLine{134 }
\DoxyCodeLine{135 \textcolor{comment}{// レンダラターゲットビューの取得}}
\DoxyCodeLine{136 ID3D11RenderTargetView* \mbox{\hyperlink{main_app_8h_ad019e0e7e14e8aa9a83bbbf95930ed81}{GetRenderTargetView}}();}
\DoxyCodeLine{137 \textcolor{comment}{// Zバッファ}}
\DoxyCodeLine{138 ID3D11DepthStencilView* \mbox{\hyperlink{main_app_8h_a5cd40119cdaa763b483dfba6942eaa3e}{GetDepthStencilView}}();}
\DoxyCodeLine{139 \textcolor{comment}{// スワップチェーン}}
\DoxyCodeLine{140 IDXGISwapChain* \mbox{\hyperlink{main_app_8h_aafdc26c1149a90863283c7f26dfa89fa}{GetSwapChain}}();}

\end{DoxyCode}
